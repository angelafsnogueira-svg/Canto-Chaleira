<!DOCTYPE html>
<html lang="pt-PT">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>O Canto da Chaleira</title>
  
  <!-- CSS -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Macondo&family=Qwitcher+Grypen:wght@400;700&family=Lexend:wght@100..900&family=Lilita+One&display=swap" rel="stylesheet">

</head>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    let slides = document.querySelectorAll(".advert-slide");
    let currentIndex = 0;

    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.toggle("active", i === index);
      });
    }

    function nextSlide() {
      currentIndex = (currentIndex + 1) % slides.length;
      showSlide(currentIndex);
    }

    setInterval(nextSlide, 4000);
    showSlide(currentIndex);
  });
</script>

<body>

  <!-- Cabeçalho superior com ícones -->
  <div class="topbar">
    <a href="https://discord.gg/fSyFtH6hxs" target="_blank" title="Discord">
      <i class="fa-brands fa-discord"></i>
    </a>
  </div>

  <!-- Header principal -->
   
<header class="site-header">
  <!-- Topbar -->
  <div class="topbar">
    <a href="https://discord.gg/fSyFtH6hxs" target="_blank" title="Discord">
      <i class="fa-brands fa-discord"></i>
    </a>
  </div>

  <!-- Header com overlay -->
  <div class="overlay"></div>
  <div class="content">
    <a href="index.html">
      <img src="imagens/Diversos/CCLogo.png" alt="Logotipo" class="logo">
    </a>
    <h1>O Canto da Chaleira</h1>
    <p class="slogan">Promovendo a criatividade. Enriquecendo a comunidade.</p>
  </div>

  <!-- Menu -->
  <nav class="menu">
    <a href="index.html">Início</a>
    <a href="sobre.html">Sobre Nós</a>
    <a href="artistas.html">Artistas</a>
    <a href="atividades.html" class="active">Atividades</a>
    <a href="eventos.html">Eventos</a>
    <a href="parcerias.html">Parcerias</a>
    <a href="contacto.html">Contacto</a>
  </nav>
</header>

<section id="direcao">
  <h2 style="text-align:center; margin-bottom:40px;">A Direção da Associação</h2>

  <div class="grid-cascata">
    <div class="foto"><img src="imagens/People/Núbia/nubia2.png" alt="Núbia Scorpion"><div class="overlay"><h3>Núbia Scorpion</h3><figcaption>Co-Fundadora</figcaption></div></div>
    <div class="foto"><img src="imagens/People/Cristovao/cristovao1.png" alt="Cristóvão McDuffin"><div class="overlay"><h3>Cristóvão McDuffin</h3><figcaption>Fundador</figcaption></div></div>
    <div class="foto"><img src="imagens/People/Alegna/alegna1.png" alt="Alegna Costa"><div class="overlay"><h3>Alegna Costa</h3><figcaption>Gerente</figcaption></div></div>

    <div class="foto"><img src="imagens/People/Canhoto/canhoto1.png" alt="Miguel N. Canhoto"><div class="overlay"><h3>Miguel N. Canhoto</h3><figcaption>Departamento de Música</figcaption></div></div>
    <div class="foto"><img src="imagens/People/Kardama/mimo1.png" alt="Kardama Mimo"><div class="overlay"><h3>Kardama Mimo</h3><figcaption>Marketing & Publicidade</figcaption></div></div>
    <div class="foto"><img src="imagens/People/Malvara/malvara1.png" alt="Malvara Rocha"><div class="overlay"><h3>Malvara Rocha</h3><figcaption>Fadista</figcaption></div></div>

    <div class="foto"><img src="imagens/People/Tiburcio/tiburcio1.png" alt="Tiburcio Maya"><div class="overlay"><h3>Tiburcio Maya</h3><figcaption>Fotógrafo</figcaption></div></div>
    <div class="foto"><img src="imagens/People/Miguel/miguel1.png" alt="Miguel Silva"><div class="overlay"><h3>Miguel Silva</h3><figcaption>Poeta</figcaption></div></div>
    <div class="foto"><img src="imagens/People/Diogo/diogo1.png" alt="Diogo Canelas"><div class="overlay"><h3>Diogo Canelas</h3><figcaption>DJ</figcaption></div></div>
  </div>
</section>

<style>
/* grid */
.grid-cascata {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  max-width: 950px;
  margin: 0 auto 3px;
  padding: 10 10px;
  justify-items: center;
}

/* foto começa quadrada */
.grid-cascata .foto {
  position: relative;
  width: 300px;
  height: 300px;
  border-radius: 0%; /* quadrado */
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(0,0,0,0.18);
  opacity: 0;
  transform: translateY(30px);
  transition: 
    transform 0.7s cubic-bezier(.22,.9,.35,1),
    opacity 0.7s ease,
    border-radius 0.5s ease; /* suaviza canto → círculo */
}

/* visível após scroll */
.grid-cascata .foto.show {
  opacity: 1;
  transform: translateY(0);
}

/* imagem */
.grid-cascata .foto img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease, border-radius 0.5s ease;
  display: block;
  border-radius: 0%; /* inicial igual ao container */
}

/* overlay */
.grid-cascata .overlay {
  position: absolute;
  inset: 0;
  border-radius: 0%; /* inicial quadrado */
  background: rgba(0,0,0,0.62);
  color: #fff;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  opacity: 0;
  transition: opacity 0.3s ease, border-radius 0.5s ease;
  padding: 12px;
}

/* hover: quadrado → círculo */
.grid-cascata .foto:hover {
  border-radius: 50%;
}
.grid-cascata .foto:hover img {
  border-radius: 50%;
  transform: scale(1.05);
}
.grid-cascata .foto:hover .overlay {
  opacity: 1;
  border-radius: 50%;
}

.grid-cascata .overlay h3 { 
  margin: 0; 
  font-size: 1.1rem; 
}
.grid-cascata .overlay figcaption { 
  margin-top: 6px; 
  font-size: 0.95rem; 
  opacity: 0.95; 
}

/* responsive */
@media (max-width: 900px) {
  .grid-cascata { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 520px) {
  .grid-cascata { grid-template-columns: 1fr; }
  .grid-cascata .foto { width: 220px; height: 220px; }
}
</style>


<script>
document.addEventListener('DOMContentLoaded', () => {
  const grid = document.querySelector('.grid-cascata');
  if (!grid) { console.warn('grid-cascata not found'); return; }

  const fotos = Array.from(grid.querySelectorAll('.foto'));
  if (fotos.length === 0) { console.warn('no .foto elements found'); return; }

  // IntersectionObserver observa o GRID — quando o bloco entra em view, dispara a cascata
  const observer = new IntersectionObserver((entries, obs) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        // aplica show com delay incremental
        fotos.forEach((foto, i) => {
          setTimeout(() => foto.classList.add('show'), i * 700); // 160ms entre cada
        });
        obs.unobserve(entry.target); // disparar apenas 1 vez
      }
    });
  }, { threshold: 0.25 });

  observer.observe(grid);

  // debug (abre a consola se não estiver a funcionar)
  // console.log('observer created, observing grid', grid, 'foto count', fotos.length);
});
</script>


</body>